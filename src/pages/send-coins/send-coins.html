<!--
  Generated template for the SendCoinsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar [ngStyle]="{'background-color': coinColor}">
    <ion-title *ngIf="!transactionSubmitted">Send Coins</ion-title>
    <ion-title *ngIf="transactionSubmitted">Success</ion-title>
    <ion-buttons end>
      <button ion-button (click)="goBack()" *ngIf="!transactionSubmitted">
        Back
      </button>
      <button ion-button (click)="goBack()" *ngIf="transactionSubmitted">
        Ok
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>

  <div *ngIf="!transactionSubmitted">

    <div>
      <p style="margin: 0 0; padding: 3px 0; background-color: transparent"></p>
    </div>

    <div [ngStyle]="{
      'text-align':'center',
      'background-color':'white'
    }">
      <p *ngIf="!scannedCode" style="margin: 0 0; padding: 3px 0; color: grey">Scan recipient's ID:</p>
      <p *ngIf="scannedCode" style="margin: 0 0; padding: 3px 0; color: grey">ID scanned successfully</p>
    </div>

    <ion-row [ngStyle]="{'background-color': 'white'}">
      <ion-col col-1 [ngStyle]="{'position': 'relative'}">
        <ion-label [ngStyle]="{
          'position':'absolute',
          'top':'50%',
          'height':'3em',
          'margin-top':'-1.5em',
          'font-size':'10.5px',
          'line-height':'3em'
        }">
          To:
        </ion-label>
      </ion-col>

      <ion-col col-9 [ngStyle]="{'position': 'relative'}">
        <ion-input type="text" placeholder="Recipient ID" [(ngModel)]="scannedCode" [ngStyle]="{
          'position':'absolute',
          'padding' : '0 0',
          'top':'50%',
          'height':'3em',
          'margin-top':'-1.5em',
          'font-size':'10.5px',
          'color':coinColor,
          'line-height':'-1.5em'
        }">
        </ion-input>
      </ion-col>

      <ion-col col-2>
        <button ion-button full icon-center (click)="scanCode()" [ngStyle]="{
          'background-color':'transparent',
          'position':'relative',
          'color': coinColor,
          'box-shadow':'none',
          'border-color':'rgba(0,0,0,0)',
          'outline':'none'
        }">
          <!-- <ion-icon name="qr-scanner"></ion-icon> -->
          <img-loader
            [ngStyle]="{
              'position':'absolute',
              'top':'50%',
              'left':'50%',
              'height':'1.5em',
              'width':'1.5em',
              'margin-top':'-0.75em',
              'margin-left':'-0.75em'
            }"
            src="assets/images/other/qr_code.png"
            useImg>
          </img-loader>
        </button>
      </ion-col>
    </ion-row>

    <div>
      <p style="margin: 0 0; padding: 2px 0; background-color: #AFABAB"></p>
    </div>
    <div>
      <p style="margin: 0 0; padding: 3px 0; background-color: white"></p>
    </div>

    <div [ngStyle]="{
      'text-align':'center',
      'background-color':'white'
    }">
      <p style="margin: 0 0; padding: 3px 0; color: grey">Select amount of {{coinName}}(s) to send:</p>
    </div>

    <ion-row [ngStyle]="{'background-color': 'white'}">
      <ion-col col-3>
      </ion-col>
      <ion-col col-3 [ngStyle]="{'position': 'relative'}">
        <img-loader
          fallback="assets/images/default_images/defaultCoin.png"
          [ngStyle]="{
            'position':'absolute',
            'top':'50%',
            'left':'50%',
            'height':'3em',
            'width':'3em',
            'margin-top':'-1.5em',
            'margin-left':'-0.5em'
          }"
          src="{{coinIcon}}"
          useImg>
        </img-loader>
      </ion-col>
      <ion-col col-6 [ngStyle]="{'position': 'relative'}">
        <ion-input type="number" pattern="[0-9]*" [(ngModel)]="coinAmount" maxlength="3" placeholder="0"
        [ngStyle]="{
          'font-size':'24px',
          'color':coinColor
        }"></ion-input>
      </ion-col>
    </ion-row>

    <div>
      <p style="margin: 0 0; padding: 2px 0; background-color: #AFABAB"></p>
    </div>

    <ion-row [ngStyle]="{'position':'relative', 'margin':'3em 0'}">
      <button ion-button (click)="sendCoins()" [ngStyle]="{
        'background-color': coinColor,
        'position':'absolute',
        'left':'50%',
        'width':'15em',
        'margin-left':'-7.5em'
      }">
        Send {{coinName}}s!
        <!-- Send {{ctx.c[names][coinContractAddress]}}s! -->
      </button>
    </ion-row>

  </div>




  <!-- ********************************************************************* -->

  <div padding style="background-color: rgba(255, 255, 255, 0.7); margin: 0 0; height: 100%"
    *ngIf="transactionSubmitted">


    <p align="center" [ngStyle]="{
      'color': '#767171',
      'margin': '2em 0'
    }">
      Transfer of {{coinAmount}} {{coinName}}s to <br><br> {{toAddress}}
    </p>

    <ion-row style="background-color: transparent; margin: 3em 0">

      <ion-col style="{margin: 5px 0px; padding: 0 0; position: relative}">
          <h1 *ngIf="coinName" [ngStyle]="{
            'color': coinColor,
            'align' : 'right',
            'vertical-align' : 'center',
            'position' : 'absolute',
            'top':'50%',
            'height':'3em',
            'margin-top':'-1.5em',
            'line-height':'3em',
            'right' : '5px'
          }">
            {{coinAmount}}
          </h1>
      </ion-col>

      <ion-col style="{margin: 5px 0px; padding: 0 0; position: relative}">
        <img-loader
          fallback="assets/images/default_images/defaultCoin.png"
          [ngStyle]="{
            'position':'absolute',
            'top':'50%',
            'left':'50%',
            'height':'3em',
            'width':'3em',
            'margin-top':'-1.5em',
            'margin-left':'-1.5em'
          }"
          src="{{coinIcon}}"
          useImg
         ></img-loader>
      </ion-col>

      <ion-col style="{margin: 5px 0px; padding: 0 0; position: relative}">
          <img [ngStyle]="{
            'position':'absolute',
            'top':'50%',
            'height':'3em',
            'margin-top':'-1.5em'
          }"
            src="assets/images/other/arrow_right.png">
      </ion-col>
      <ion-col style="{margin: 5px 0px; padding: 0 0; position: relative}">
        <img-loader
          fallback="assets/images/default_images/defaultProfile.png"
          [ngStyle]="{
            'position':'absolute',
            'top':'50%',
            'left':'50%',
            'height':'3em',
            'width':'3em',
            'margin-top':'-1.5em',
            'margin-left':'-1.5em'
          }"
          src="assets/images/default_images/defaultProfile.png"
          useImg
         ></img-loader>
      </ion-col>

      <ion-col style="{margin: 5px 0px; padding: 0 0;}">
      </ion-col>

    </ion-row>
    <p align="center" [ngStyle]="{
      'color': '#767171',
      'margin': '2em 0'
    }">
      Transaction submitted successfully.
    </p>
    <button ion-button full icon-left (click)="goBack()" [ngStyle]="{
      'background-color': coinColor,
      'position':'absolute',
      'left':'50%',
      'width':'15em',
      'margin-left':'-7.5em'
    }">
      Ok
    </button>

  </div>

</ion-content>
